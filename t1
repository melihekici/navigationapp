We can save todays data in a new table/model
At the end of the day, these can be added to the table which keeps old data
Todays table will be lighter and easier to query

Since the old data is not changing, it can be cached to get last n hours of data
Queries will not calculate the request but instead return them from the cache



Instead of calculating the last 48 hours of records by filtering datetimes with query
every time that the api is called, we can create time stamps (Ex:incrementing day number starting from first records day) and cache the
id of the first navigation record for that day.

When you send a request to the api for the last 48 hours (or last n hours) of records,
first the time stamp for the 48 hours (or n hours) will be calculated (lets say it returned day 410) before querying the database.
Then using the time stamp(410) we will get the id of the first record for that day from the cache.
After, we will filter the navigation records that has id greater than returned id from the cache.

Assuming that you have asked for last 48 hours of records, this would return from last 48 hours up to last 72 hours of records. Then we can filter the records inside api function and return
last 48 hours of records.

I think slicing data from database using id field (which is the primary key) would be much faster and cheaper than filtering a whole data by comparison of date time with now.
